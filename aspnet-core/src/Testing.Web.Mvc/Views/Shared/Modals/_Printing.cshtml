@using Testing.Web.Models.Common.Modals
@model Testing.Web.Views.Shared.Components.Printing.PrintingViewModel

<div data-component-printing>
    <button data-print-view type="button" class="btn btn-sm bg-secondary" data-toggle="modal" data-target="#PrintModal">
        <i class="fas fa-pencil-alt"></i>
        @Model.PrintButtonText
    </button>


    <div class="modal fade" id="PrintModal" tabindex="-1" role="dialog" aria-labelledby="PrintModalLabel" data-backdrop="static">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                @await Html.PartialAsync("~/Views/Shared/Modals/_ModalHeader.cshtml", new ModalHeaderViewModel(L("CreateNewTeam")))
                <div data-printing-content class="modal-body">
                </div>
                <div class="modal-footer">
                    <button data-print>Print</button>
                </div>
            </div>
        </div>
        <input id="print-view-url" type="hidden" value="@Url.Action(Model.Action, Model.Controller)" />
    </div>

    <script src="~/view-resources/Views/Shared/Modals//_printing.js" asp-append-version="true"></script>
</div>

<style type="text/css">
    @@media print {
        body * {
            visibility: hidden;
        }

        [data-printing-content],
        [data-printing-content] * {
            visibility: visible;
        }

        [data-printing-content] {
            position: absolute;
            left: 0;
            top: 0;
        }
    }
</style>